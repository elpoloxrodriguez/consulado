import{a as R,b as j,c as H,d as S,e as z,f as ie,g as oe,h as we}from"./chunk-AUKFKAMK.js";import{b as Te,c as ne}from"./chunk-EB3BIPWW.js";import{b as q,c as Q,d as J,f as U,h as G,i as K,j as X,n as Y,o as Z,p as $,q as ee,r as te}from"./chunk-ZXV3WCDO.js";import{Ca as t,Cc as pe,Da as i,Ea as P,Fa as V,Ga as B,Ia as v,Ja as f,Ka as x,M as L,Qa as k,R as p,Ra as O,S as u,Sa as F,Sc as ue,Ta as N,Tc as ge,Ua as r,Uc as he,Vc as _e,Wa as M,Wc as fe,Ya as y,Za as C,_a as T,ab as W,bb as D,ea as c,fa as A,ic as ae,jc as re,mc as le,nc as se,qc as ce,rc as me,sa as _,ua as g,uc as de,za as w}from"./chunk-QPT26XIT.js";import{a as I,e as Ce,j as b}from"./chunk-DTJZBUUZ.js";var ye=Ce(Te());var E=()=>({standalone:!0});function be(a,m){a&1&&(V(0),t(1,"div",36),P(2,"div",37),t(3,"div",38),r(4,"Cargando datos por favor espere!.."),i()(),B())}function ve(a,m){a&1&&(V(0),t(1,"div",36)(2,"div",38),r(3,"No Hay Registros!.."),i()(),B())}function xe(a,m){if(a&1&&(t(0,"div")(1,"span",39),r(2),i()()),a&2){let d=m.value;c(2),M("",d," ")}}function De(a,m){if(a&1&&(t(0,"div")(1,"span",39),r(2),i()()),a&2){let d=m.value;c(2),M("",d," ")}}function Me(a,m){if(a&1&&(t(0,"div")(1,"span",39),r(2),i()()),a&2){let d=m.value;c(2),M("",d," ")}}function Se(a,m){a&1&&(t(0,"c-badge",40),r(1,"Activo"),i())}function Ee(a,m){a&1&&(t(0,"c-badge",41),r(1,"Inactivo"),i())}function Ae(a,m){if(a&1&&(t(0,"div"),_(1,Se,2,0,"c-badge",40)(2,Ee,2,0,"c-badge",41),i()),a&2){let d=m.value;c(),w(1,d==1?1:-1),c(),w(2,d==0?2:-1)}}function Ve(a,m){if(a&1){let d=v();t(0,"c-badge",42),f("click",function(){let o=p(d).row,e=x();return u(e.Eliminar(o))}),r(1,"Eliminar"),i(),r(2," \xA0 "),t(3,"c-badge",43),f("click",function(){let o=p(d).row,e=x();return u(e.ModalActualizar("verticallyCenteredModal",o))}),r(4,"Actualziar"),i()}}function Be(a,m){if(a&1){let d=v();t(0,"button",44),f("click",function(){p(d);let o=x();return u(o.Registrar())}),r(1,"Registrar Tipo Documento"),i()}}function Ie(a,m){if(a&1){let d=v();t(0,"button",45),f("click",function(){p(d);let o=x();return u(o.Actualizar())}),r(1,"Actualizar Tipo Documento"),i()}}var qe=(()=>{let m=class m{constructor(n,o){this.apiService=n,this.swal=o,this.selectedOption=10,this.ColumnMode=R,this.selected=[],this.xTipoDocumento={nombre:"",status:void 0,llave:0,descripcion:""},this.ListarTipoDocumento=[],this.rows=[],this.temp=[],this.search="",this.xAPI={funcion:"",parametros:"",valores:{}},this.paises=[],this.status=[{id:1,name:"Activo"},{id:0,name:"Inactivo"}],this.loadingTable=0,this.btnShow=!1}ngOnInit(){return b(this,null,function*(){yield this.ListasTipoDocumento()})}ListasTipoDocumento(){return b(this,null,function*(){this.xAPI.funcion="MPPRE_R_TipoDocumento",this.xAPI.parametros="",this.xAPI.valores="",this.apiService.Ejecutar(this.xAPI).subscribe(n=>{n.Cuerpo.length>0?(this.loadingTable=1,n.Cuerpo.map(o=>{Array.isArray(this.ListarTipoDocumento)&&this.ListarTipoDocumento.push(o)}),this.rows=this.ListarTipoDocumento,this.temp=this.rows):this.loadingTable=2},n=>{console.log(n)})})}filter(n){let o=n.target.value.toLowerCase(),e=this.temp.filter(function(s){});this.rows=e}Registrar(){return b(this,null,function*(){this.xAPI.funcion="MPPRE_C_TipoDocumento",this.xAPI.parametros="",this.xAPI.valores=JSON.stringify(this.xTipoDocumento),yield this.apiService.Ejecutar(this.xAPI).subscribe({next:n=>{n.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${this.xTipoDocumento.nombre}</font></strong> </br> Registrado Exitosamente!</h5>`,3e3),this.ListarTipoDocumento=[],this.rows=[],this.ListasTipoDocumento(),this.LimpiarFormulario(),this.closeModal("verticallyCenteredModal")):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:n=>{console.log(n)}})})}LimpiarFormulario(){this.xTipoDocumento={id:0,llave:0,nombre:"",descripcion:"",status:void 0}}closeModal(n){this.btnShow=!1;let o=document.getElementById(n),e=document.querySelector(".modal-backdrop");o&&e&&(o.style.display="none",e.remove(),this.LimpiarFormulario())}openModal(n){this.btnShow=!1;let o=document.getElementById(n);if(o){o.style.display="block",o.setAttribute("aria-hidden","false"),o.classList.add("show");let e=document.createElement("div");e.classList.add("modal-backdrop","show"),document.body.appendChild(e)}}ModalActualizar(n,o){this.xTipoDocumento.id=o.id,this.btnShow=!0;let e=document.getElementById(n);if(this.xTipoDocumento=o,e){e.style.display="block",e.setAttribute("aria-hidden","false"),e.classList.add("show");let s=document.createElement("div");s.classList.add("modal-backdrop","show"),document.body.appendChild(s)}}Eliminar(n){let o=I({},n);ye.default.fire({title:"Est\xE1 seguro de eliminar?",html:`<strong><font color="red">${o.descripcion}</font></strong>  </br> Tenga en cuenta que no podr\xE1s revertir esto!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminalo!",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(this.xAPI.funcion="MPPRE_D_TipoDocumento",this.xAPI.parametros=`${o.id}`,this.xAPI.valores="",this.apiService.Ejecutar(this.xAPI).subscribe({next:s=>{s.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${o.descripcion}</font></strong> </br> Eliminado Exitosamente!</h5>`,3e3),this.ListarTipoDocumento=[],this.rows=[],this.ListasTipoDocumento()):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:s=>{console.log(s),this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)}}))})}Actualizar(){return b(this,null,function*(){this.xAPI.funcion="MPPRE_U_TipoDocumento",this.xAPI.parametros="",this.xAPI.valores=JSON.stringify(this.xTipoDocumento),yield this.apiService.Ejecutar(this.xAPI).subscribe({next:n=>{n.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${this.xTipoDocumento.descripcion} </font></strong> </br> Actualizado Exitosamente!</h5>`,3e3),this.ListarTipoDocumento=[],this.rows=[],this.ListasTipoDocumento(),this.LimpiarFormulario(),this.closeModal("verticallyCenteredModal")):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:n=>{console.log(n)}})})}};m.\u0275fac=function(o){return new(o||m)(A(ne),A(we))},m.\u0275cmp=L({type:m,selectors:[["app-document-type"]],viewQuery:function(o,e){if(o&1&&k(S,5),o&2){let s;O(s=F())&&(e.table=s.first)}},standalone:!0,features:[W],decls:71,vars:32,consts:[["verticallyCenteredModal",""],[1,"mb-4"],["size","sm","cButton","",3,"cModalToggle"],[1,"row"],[1,"col-md-6","col-12"],[1,"d-flex","justify-content-between","align-items-center","m-1"],[1,"d-flex","align-items-center"],[1,"form-control","mx-25",3,"ngModelChange","ngModel"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-md-6","col-12","d-flex","justify-content-start","justify-content-md-end"],[1,"d-flex","align-items-center","justify-content-end","pr-1","pb-1","pb-md-0"],[1,"d-flex","align-items-center","ml-1","ml-md-0"],["name","searchValue","type","search","placeholder","Buscar",1,"form-control","ml-25",3,"ngModelChange","keyup","search","ngModel"],["rowHeight","auto",1,"bootstrap","core-bootstrap",3,"rows","limit","columnMode","headerHeight","footerHeight","scrollbarH"],["name","Llave","prop","llave",3,"width"],["ngx-datatable-cell-template",""],["name","Nombre","prop","nombre",3,"width"],["name","Descripci\xF3n","prop","descripcion",3,"width"],["name","Status","prop","status",3,"width"],["name","Accion",3,"sortable","width"],["size","lg","alignment","center","id","verticallyCenteredModal"],["cModalTitle",""],["cButtonClose","",3,"click"],[1,"row","mb-3"],[1,"col"],[1,"form-label"],["placeholder","Ingrese Llave","type","number",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["placeholder","Ingrese Nombre","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["placeholder","Ingrese Descripci\xF3n","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["optionValueField","id","optionTextField","name","placeholder","Seleccione Status","required","","autocomplete","off",3,"ngModelChange","items","ngModel","ngModelOptions"],["cButton","","color","danger",3,"click"],["cButton","","color","primary"],["cButton","","color","warning"],[1,"loading-overlay"],["role","status",1,"spinner-border"],[1,"loading-message"],[1,"font-weight-bold"],["color","success"],["color","danger"],["color","danger",3,"click"],["color","warning",3,"click"],["cButton","","color","primary",3,"click"],["cButton","","color","warning",3,"click"]],template:function(o,e){if(o&1){let s=v();t(0,"c-card",1)(1,"c-card-header"),r(2," Lista de Tipo Documento "),t(3,"button",2),r(4,"Agregar Tipo Documento"),i()(),t(5,"c-card-body")(6,"div")(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),r(11,"Mostrar "),t(12,"select",7),T("ngModelChange",function(l){return p(s),C(e.selectedOption,l)||(e.selectedOption=l),u(l)}),t(13,"option",8),r(14,"10"),i(),t(15,"option",9),r(16,"25"),i(),t(17,"option",10),r(18,"50"),i(),t(19,"option",11),r(20,"100"),i()(),r(21," Registros"),i()()(),t(22,"div",12)(23,"div",13)(24,"label",14),r(25,"Buscar:"),t(26,"input",15),T("ngModelChange",function(l){return p(s),C(e.search,l)||(e.search=l),u(l)}),f("keyup",function(l){return p(s),u(e.filter(l))})("search",function(l){return p(s),u(e.filter(l))}),i()()()()(),_(27,be,5,0,"ng-container")(28,ve,4,0,"ng-container"),t(29,"ngx-datatable",16)(30,"ngx-datatable-column",17),_(31,xe,3,1,"ng-template",18),i(),t(32,"ngx-datatable-column",19),_(33,De,3,1,"ng-template",18),i(),t(34,"ngx-datatable-column",20),_(35,Me,3,1,"ng-template",18),i(),t(36,"ngx-datatable-column",21),_(37,Ae,3,2,"ng-template",18),i(),t(38,"ngx-datatable-column",22),_(39,Ve,5,0,"ng-template",18),i()()()()(),t(40,"c-modal",23,0)(42,"c-modal-header")(43,"h5",24),r(44,"Formulario de Tipo Documento"),i(),t(45,"button",25),f("click",function(){return p(s),u(e.closeModal("verticallyCenteredModal"))}),i()(),t(46,"c-modal-body")(47,"form")(48,"div",26)(49,"div",27)(50,"label",28),r(51,"Llave"),i(),t(52,"input",29),T("ngModelChange",function(l){return p(s),C(e.xTipoDocumento.llave,l)||(e.xTipoDocumento.llave=l),u(l)}),i()(),t(53,"div",27)(54,"label",28),r(55,"Nombre"),i(),t(56,"input",30),T("ngModelChange",function(l){return p(s),C(e.xTipoDocumento.nombre,l)||(e.xTipoDocumento.nombre=l),u(l)}),i()()(),t(57,"div",26)(58,"div",27)(59,"label",28),r(60,"Descripci\xF3n"),i(),t(61,"input",31),T("ngModelChange",function(l){return p(s),C(e.xTipoDocumento.descripcion,l)||(e.xTipoDocumento.descripcion=l),u(l)}),i()(),t(62,"div",27)(63,"label",28),r(64,"Seleccione Estatus"),i(),t(65,"ngx-select",32),T("ngModelChange",function(l){return p(s),C(e.xTipoDocumento.status,l)||(e.xTipoDocumento.status=l),u(l)}),i()()()()(),t(66,"c-modal-footer")(67,"button",33),f("click",function(){return p(s),u(e.closeModal("verticallyCenteredModal"))}),r(68," Cerrar "),i(),_(69,Be,2,0,"button",34)(70,Ie,2,0,"button",35),i()()}if(o&2){let s=N(41);c(3),g("cModalToggle",s.id),c(9),y("ngModel",e.selectedOption),c(14),y("ngModel",e.search),c(),w(27,e.loadingTable==0?27:-1),c(),w(28,e.loadingTable==2?28:-1),c(),g("rows",e.rows)("limit",e.selectedOption)("columnMode",e.ColumnMode.force)("headerHeight",50)("footerHeight",50)("scrollbarH",!0),c(),g("width",50),c(2),g("width",200),c(2),g("width",200),c(2),g("width",100),c(2),g("sortable",!1)("width",50),c(14),y("ngModel",e.xTipoDocumento.llave),g("ngModelOptions",D(28,E)),c(4),y("ngModel",e.xTipoDocumento.nombre),g("ngModelOptions",D(29,E)),c(5),y("ngModel",e.xTipoDocumento.descripcion),g("ngModelOptions",D(30,E)),c(4),g("items",e.status),y("ngModel",e.xTipoDocumento.status),g("ngModelOptions",D(31,E)),c(4),w(69,e.btnShow?-1:69),c(),w(70,e.btnShow?70:-1)}},dependencies:[z,S,H,j,ce,re,oe,ie,de,te,K,Z,$,q,X,Y,Q,J,ee,G,U,me,fe,_e,ue,he,ae,ge,pe,se,le]});let a=m;return a})();export{qe as DocumentTypeComponent};
