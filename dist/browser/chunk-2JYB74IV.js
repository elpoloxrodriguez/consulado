import{a as W,b as R,c as j,d as P,e as H,f as te,g as ie,i as be,j as ne,k as fe}from"./chunk-OT2M2KGO.js";import{b as z,c as q,d as Q,f as J,h as G,i as K,n as X,o as Y,p as Z,q as $,r as ee}from"./chunk-ZXV3WCDO.js";import{Ca as t,Cc as me,Da as i,Ea as k,Fa as T,Ga as A,Ia as S,Ja as w,Ka as y,M as B,Qa as L,R as p,Ra as O,S as u,Sa as N,Sc as pe,Ta as D,Tc as ue,Ua as r,Uc as ge,Vc as _e,Wa as M,Wc as he,Ya as C,Za as b,_a as x,ab as F,bb as E,ea as s,fa as U,ic as oe,jc as ae,mc as re,nc as le,qc as se,rc as de,sa as _,ua as g,uc as ce,za as h}from"./chunk-QPT26XIT.js";import{a as I,e as Ce,j as v}from"./chunk-DTJZBUUZ.js";var we=Ce(be());var V=()=>({standalone:!0});function xe(n,l){n&1&&(T(0),t(1,"div",37),k(2,"div",38),t(3,"div",39),r(4,"Cargando datos por favor espere!.."),i()(),A())}function ve(n,l){n&1&&(T(0),t(1,"div",37)(2,"div",39),r(3,"No Hay Registros!.."),i()(),A())}function Se(n,l){if(n&1&&(t(0,"div")(1,"span",40),r(2),i()()),n&2){let m=l.value;s(2),M("",m," ")}}function ye(n,l){if(n&1&&(t(0,"div")(1,"span",40),r(2),i()()),n&2){let m=l.value;s(2),M("",m," ")}}function Me(n,l){if(n&1&&(t(0,"div")(1,"span",40),r(2),i()()),n&2){let m=l.value;s(2),M("",m," ")}}function Ee(n,l){if(n&1&&(t(0,"div")(1,"span",40),r(2),i()()),n&2){let m=l.value;s(2),M("",m," ")}}function Pe(n,l){n&1&&(t(0,"c-badge",41),r(1,"Administrador"),i())}function Ue(n,l){n&1&&(t(0,"c-badge",42),r(1,"Inactivo"),i())}function Te(n,l){if(n&1&&(t(0,"div"),_(1,Pe,2,0,"c-badge",41)(2,Ue,2,0,"c-badge",42),i()),n&2){let m=l.value;s(),h(1,m==1?1:-1),s(),h(2,m==0?2:-1)}}function Ae(n,l){n&1&&(t(0,"c-badge",43),r(1,"Activo"),i())}function Ve(n,l){n&1&&(t(0,"c-badge",42),r(1,"Inactivo"),i())}function Ie(n,l){if(n&1&&(t(0,"div"),_(1,Ae,2,0,"c-badge",43)(2,Ve,2,0,"c-badge",42),i()),n&2){let m=l.value;s(),h(1,m==1?1:-1),s(),h(2,m==0?2:-1)}}function Be(n,l){if(n&1){let m=S();t(0,"c-badge",44),w("click",function(){let o=p(m).row,e=y();return u(e.Eliminar(o))}),r(1,"Eliminar"),i(),r(2," \xA0 "),t(3,"c-badge",45),w("click",function(){let o=p(m).row,e=y();return u(e.ModalActualizar("verticallyCenteredModal",o))}),r(4,"Actualziar"),i()}}function ke(n,l){if(n&1){let m=S();t(0,"button",46),w("click",function(){p(m);let o=y();return u(o.Registrar())}),r(1,"Registrar Pais"),i()}}function Le(n,l){if(n&1){let m=S();t(0,"button",47),w("click",function(){p(m);let o=y();return u(o.Actualizar())}),r(1,"Actualizar Pais"),i()}}var Je=(()=>{let l=class l{constructor(a,o){this.apiService=a,this.swal=o,this.selectedOption=10,this.ColumnMode=W,this.selected=[],this.ListasUsuario=[],this.rows=[],this.temp=[],this.search="",this.xAPI={funcion:"",parametros:"",valores:{}},this.xPaises={id:0,iso:"",nombre:"",status:void 0},this.paises=[],this.status=[{id:1,name:"Activo"},{id:0,name:"Inactivo"}],this.loadingTable=0,this.btnShow=!1}ngOnInit(){return v(this,null,function*(){yield this.ListaUsuarios()})}ListaUsuarios(){return v(this,null,function*(){this.xAPI.funcion="MPPRE_R_ListaUsuarios",this.xAPI.parametros="",this.xAPI.valores="",this.apiService.Ejecutar(this.xAPI).subscribe({next:a=>{a.Cuerpo.length>0?(this.loadingTable=1,a.Cuerpo.map(o=>{Array.isArray(this.ListasUsuario)&&this.ListasUsuario.push(o)}),this.rows=this.ListasUsuario,this.temp=this.rows):this.loadingTable=2},error:a=>{console.log(a)}})})}filter(a){let o=a.target.value.toLowerCase(),e=this.temp.filter(function(c){});this.rows=e}Registrar(){return v(this,null,function*(){this.xAPI.funcion="MPPRE_C_Paises",this.xAPI.parametros="",this.xAPI.valores=JSON.stringify(this.xPaises),yield this.apiService.Ejecutar(this.xAPI).subscribe({next:a=>{a.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${this.xPaises.nombre}</font></strong> </br> Registrado Exitosamente!</h5>`,3e3),this.ListasUsuario=[],this.rows=[],this.ListaUsuarios(),this.LimpiarFormulario(),this.closeModal("verticallyCenteredModal")):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:a=>{console.log(a)}})})}LimpiarFormulario(){this.xPaises={id:0,iso:"",nombre:"",status:void 0}}closeModal(a){this.btnShow=!1;let o=document.getElementById(a),e=document.querySelector(".modal-backdrop");o&&e&&(o.style.display="none",e.remove(),this.LimpiarFormulario())}openModal(a){this.btnShow=!1;let o=document.getElementById(a);if(o){o.style.display="block",o.setAttribute("aria-hidden","false"),o.classList.add("show");let e=document.createElement("div");e.classList.add("modal-backdrop","show"),document.body.appendChild(e)}}ModalActualizar(a,o){this.xPaises.id=o.id,this.btnShow=!0;let e=document.getElementById(a);if(this.xPaises=o,e){e.style.display="block",e.setAttribute("aria-hidden","false"),e.classList.add("show");let c=document.createElement("div");c.classList.add("modal-backdrop","show"),document.body.appendChild(c)}}Eliminar(a){let o=I({},a);we.default.fire({title:"Est\xE1 seguro de eliminar?",html:`<strong><font color="red">${o.nombre}</font></strong>  </br> Tenga en cuenta que no podr\xE1s revertir esto!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminalo!",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(this.xAPI.funcion="MPPRE_D_Paises",this.xAPI.parametros=`${o.id}`,this.xAPI.valores="",this.apiService.Ejecutar(this.xAPI).subscribe({next:c=>{c.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${o.nombre}</font></strong> </br> Eliminado Exitosamente!</h5>`,3e3),this.ListasUsuario=[],this.rows=[],this.ListaUsuarios()):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:c=>{console.log(c),this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)}}))})}Actualizar(){return v(this,null,function*(){this.xAPI.funcion="MPPRE_U_Paises",this.xAPI.parametros="",this.xAPI.valores=JSON.stringify(this.xPaises),yield this.apiService.Ejecutar(this.xAPI).subscribe({next:a=>{a.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${this.xPaises.nombre} </font></strong> </br> Actualizado Exitosamente!</h5>`,3e3),this.ListasUsuario=[],this.rows=[],this.ListaUsuarios(),this.LimpiarFormulario(),this.closeModal("verticallyCenteredModal")):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:a=>{console.log(a)}})})}};l.\u0275fac=function(o){return new(o||l)(U(ne),U(fe))},l.\u0275cmp=B({type:l,selectors:[["app-users"]],viewQuery:function(o,e){if(o&1&&L(P,5),o&2){let c;O(c=N())&&(e.table=c.first)}},standalone:!0,features:[F],decls:70,vars:31,consts:[["verticallyCenteredModal",""],[1,"mb-4"],["size","sm","cButton","",3,"cModalToggle"],[1,"row"],[1,"col-md-6","col-12"],[1,"d-flex","justify-content-between","align-items-center","m-1"],[1,"d-flex","align-items-center"],[1,"form-control","mx-25",3,"ngModelChange","ngModel"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-md-6","col-12","d-flex","justify-content-start","justify-content-md-end"],[1,"d-flex","align-items-center","justify-content-end","pr-1","pb-1","pb-md-0"],[1,"d-flex","align-items-center","ml-1","ml-md-0"],["name","searchValue","type","search","placeholder","Buscar",1,"form-control","ml-25",3,"ngModelChange","keyup","search","ngModel"],["rowHeight","auto",1,"bootstrap","core-bootstrap",3,"rows","limit","columnMode","headerHeight","footerHeight","scrollbarH"],["name","Nombres","prop","nombres",3,"width"],["ngx-datatable-cell-template",""],["name","Apellidos","prop","apellidos",3,"width"],["name","Email","prop","correo",3,"width"],["name","Telefono","prop","telefono",3,"width"],["name","Perfil","prop","perfil",3,"width"],["name","Status","prop","status",3,"width"],["name","Accion",3,"sortable","width"],["size","lg","alignment","center","id","verticallyCenteredModal"],["cModalTitle",""],["cButtonClose","",3,"click"],[1,"row","mb-3"],[1,"col"],[1,"form-label"],["placeholder","Ingrese ISO","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["placeholder","Ingrese Nombre","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["optionValueField","id","optionTextField","name","placeholder","Seleccione Status","required","","autocomplete","off",3,"ngModelChange","items","ngModel","ngModelOptions"],["cButton","","color","danger",3,"click"],["cButton","","color","primary"],["cButton","","color","warning"],[1,"loading-overlay"],["role","status",1,"spinner-border"],[1,"loading-message"],[1,"font-weight-bold"],["color","warning"],["color","danger"],["color","success"],["color","danger",3,"click"],["color","warning",3,"click"],["cButton","","color","primary",3,"click"],["cButton","","color","warning",3,"click"]],template:function(o,e){if(o&1){let c=S();t(0,"c-card",1)(1,"c-card-header"),r(2," Lista de Usuarios "),t(3,"button",2),r(4,"Agregar Usuario"),i()(),t(5,"c-card-body")(6,"div")(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),r(11,"Mostrar "),t(12,"select",7),x("ngModelChange",function(d){return p(c),b(e.selectedOption,d)||(e.selectedOption=d),u(d)}),t(13,"option",8),r(14,"10"),i(),t(15,"option",9),r(16,"25"),i(),t(17,"option",10),r(18,"50"),i(),t(19,"option",11),r(20,"100"),i()(),r(21," Registros"),i()()(),t(22,"div",12)(23,"div",13)(24,"label",14),r(25,"Buscar:"),t(26,"input",15),x("ngModelChange",function(d){return p(c),b(e.search,d)||(e.search=d),u(d)}),w("keyup",function(d){return p(c),u(e.filter(d))})("search",function(d){return p(c),u(e.filter(d))}),i()()()()(),_(27,xe,5,0,"ng-container")(28,ve,4,0,"ng-container"),t(29,"ngx-datatable",16)(30,"ngx-datatable-column",17),_(31,Se,3,1,"ng-template",18),i(),t(32,"ngx-datatable-column",19),_(33,ye,3,1,"ng-template",18),i(),t(34,"ngx-datatable-column",20),_(35,Me,3,1,"ng-template",18),i(),t(36,"ngx-datatable-column",21),_(37,Ee,3,1,"ng-template",18),i(),t(38,"ngx-datatable-column",22),_(39,Te,3,2,"ng-template",18),i(),t(40,"ngx-datatable-column",23),_(41,Ie,3,2,"ng-template",18),i(),t(42,"ngx-datatable-column",24),_(43,Be,5,0,"ng-template",18),i()()()()(),t(44,"c-modal",25,0)(46,"c-modal-header")(47,"h5",26),r(48,"Formulario de Paises"),i(),t(49,"button",27),w("click",function(){return p(c),u(e.closeModal("verticallyCenteredModal"))}),i()(),t(50,"c-modal-body")(51,"form")(52,"div",28)(53,"div",29)(54,"label",30),r(55,"ISO"),i(),t(56,"input",31),x("ngModelChange",function(d){return p(c),b(e.xPaises.iso,d)||(e.xPaises.iso=d),u(d)}),i()(),t(57,"div",29)(58,"label",30),r(59,"Nombre"),i(),t(60,"input",32),x("ngModelChange",function(d){return p(c),b(e.xPaises.nombre,d)||(e.xPaises.nombre=d),u(d)}),i()(),t(61,"div",29)(62,"label",30),r(63,"Seleccione Estatus"),i(),t(64,"ngx-select",33),x("ngModelChange",function(d){return p(c),b(e.xPaises.status,d)||(e.xPaises.status=d),u(d)}),i()()()()(),t(65,"c-modal-footer")(66,"button",34),w("click",function(){return p(c),u(e.closeModal("verticallyCenteredModal"))}),r(67," Cerrar "),i(),_(68,ke,2,0,"button",35)(69,Le,2,0,"button",36),i()()}if(o&2){let c=D(45);s(3),g("cModalToggle",c.id),s(9),C("ngModel",e.selectedOption),s(14),C("ngModel",e.search),s(),h(27,e.loadingTable==0?27:-1),s(),h(28,e.loadingTable==2?28:-1),s(),g("rows",e.rows)("limit",e.selectedOption)("columnMode",e.ColumnMode.force)("headerHeight",50)("footerHeight",50)("scrollbarH",!0),s(),g("width",200),s(2),g("width",200),s(2),g("width",200),s(2),g("width",100),s(2),g("width",100),s(2),g("width",100),s(2),g("sortable",!1)("width",150),s(14),C("ngModel",e.xPaises.iso),g("ngModelOptions",E(28,V)),s(4),C("ngModel",e.xPaises.nombre),g("ngModelOptions",E(29,V)),s(4),g("items",e.status),C("ngModel",e.xPaises.status),g("ngModelOptions",E(30,V)),s(4),h(68,e.btnShow?-1:68),s(),h(69,e.btnShow?69:-1)}},dependencies:[H,P,j,R,se,ae,ie,te,ce,ee,K,Y,Z,z,X,q,Q,$,G,J,de,he,_e,pe,ge,oe,ue,me,le,re]});let n=l;return n})();export{Je as UsersComponent};
