import{a as D,b as R,c as j,d as U,e as H,f as te,g as ie,h as fe}from"./chunk-AUKFKAMK.js";import{b as be,c as ne}from"./chunk-EB3BIPWW.js";import{b as z,c as q,d as Q,f as J,h as G,i as K,n as X,o as Y,p as Z,q as $,r as ee}from"./chunk-ZXV3WCDO.js";import{Ca as t,Cc as ce,Da as i,Ea as L,Fa as V,Ga as A,Ia as v,Ja as x,Ka as E,M as B,Qa as W,R as u,Ra as k,S as g,Sa as O,Sc as pe,Ta as F,Tc as ue,Ua as r,Uc as ge,Vc as _e,Wa as P,Wc as he,Ya as f,Za as w,_a as C,ab as N,bb as y,ea as l,fa as T,ic as oe,jc as ae,mc as re,nc as le,qc as se,rc as de,sa as h,ua as c,uc as me,za as b}from"./chunk-QPT26XIT.js";import{a as I,e as Ce,j as S}from"./chunk-DTJZBUUZ.js";var we=Ce(be());var M=()=>({standalone:!0});function ye(o,d){o&1&&(V(0),t(1,"div",40),L(2,"div",41),t(3,"div",42),r(4,"Cargando datos por favor espere!.."),i()(),A())}function xe(o,d){o&1&&(V(0),t(1,"div",40)(2,"div",42),r(3,"No Hay Registros!.."),i()(),A())}function Me(o,d){if(o&1&&(t(0,"div")(1,"span",43),r(2),i()()),o&2){let p=d.value;l(2),P("",p," ")}}function Se(o,d){if(o&1&&(t(0,"div")(1,"span",43),r(2),i()()),o&2){let p=d.value;l(2),P("",p," ")}}function ve(o,d){if(o&1&&(t(0,"div")(1,"span",43),r(2),i()()),o&2){let p=d.value;l(2),P("",p," ")}}function Ee(o,d){if(o&1&&(t(0,"div")(1,"span",43),r(2),i()()),o&2){let p=d.value;l(2),P("",p," ")}}function Pe(o,d){o&1&&(t(0,"c-badge",44),r(1,"Administrador"),i())}function Ue(o,d){o&1&&(t(0,"c-badge",45),r(1,"Inactivo"),i())}function Te(o,d){if(o&1&&(t(0,"div"),h(1,Pe,2,0,"c-badge",44)(2,Ue,2,0,"c-badge",45),i()),o&2){let p=d.value;l(),b(1,p==1?1:-1),l(),b(2,p==0?2:-1)}}function Ve(o,d){o&1&&(t(0,"c-badge",46),r(1,"Activo"),i())}function Ae(o,d){o&1&&(t(0,"c-badge",45),r(1,"Inactivo"),i())}function Ie(o,d){if(o&1&&(t(0,"div"),h(1,Ve,2,0,"c-badge",46)(2,Ae,2,0,"c-badge",45),i()),o&2){let p=d.value;l(),b(1,p==1?1:-1),l(),b(2,p==0?2:-1)}}function Be(o,d){if(o&1){let p=v();t(0,"c-badge",47),x("click",function(){let a=u(p).row,e=E();return g(e.Eliminar(a))}),r(1,"Eliminar"),i(),r(2," \xA0 "),t(3,"c-badge",48),x("click",function(){let a=u(p).row,e=E();return g(e.ModalActualizar("verticallyCenteredModal",a))}),r(4,"Actualziar"),i()}}function Le(o,d){if(o&1){let p=v();t(0,"button",49),x("click",function(){u(p);let a=E();return g(a.Registrar())}),r(1,"Registrar Usuario"),i()}}function We(o,d){if(o&1){let p=v();t(0,"button",50),x("click",function(){u(p);let a=E();return g(a.Actualizar())}),r(1,"Actualizar Usuario"),i()}}var Je=(()=>{let d=class d{constructor(s,a){this.apiService=s,this.swal=a,this.selectedOption=10,this.ColumnMode=D,this.selected=[],this.ListasUsuario=[],this.rows=[],this.temp=[],this.search="",this.xAPI={funcion:"",parametros:"",valores:{}},this.xPaises={id:0,iso:"",nombre:"",status:void 0},this.paises=[],this.status=[{id:1,name:"Activo"},{id:0,name:"Inactivo"}],this.loadingTable=0,this.btnShow=!1}ngOnInit(){return S(this,null,function*(){yield this.ListaUsuarios()})}ListaUsuarios(){return S(this,null,function*(){this.xAPI.funcion="MPPRE_R_ListaUsuarios",this.xAPI.parametros="",this.xAPI.valores="",this.apiService.Ejecutar(this.xAPI).subscribe({next:s=>{s.Cuerpo.length>0?(this.loadingTable=1,s.Cuerpo.map(a=>{Array.isArray(this.ListasUsuario)&&this.ListasUsuario.push(a)}),this.rows=this.ListasUsuario,this.temp=this.rows):this.loadingTable=2},error:s=>{console.log(s)}})})}filter(s){let a=s.target.value.toLowerCase(),e=this.temp.filter(function(m){});this.rows=e}Registrar(){return S(this,null,function*(){this.xAPI.funcion="MPPRE_C_Paises",this.xAPI.parametros="",this.xAPI.valores=JSON.stringify(this.xPaises),yield this.apiService.Ejecutar(this.xAPI).subscribe({next:s=>{s.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${this.xPaises.nombre}</font></strong> </br> Registrado Exitosamente!</h5>`,3e3),this.ListasUsuario=[],this.rows=[],this.ListaUsuarios(),this.LimpiarFormulario(),this.closeModal("verticallyCenteredModal")):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:s=>{console.log(s)}})})}LimpiarFormulario(){this.xPaises={id:0,iso:"",nombre:"",status:void 0}}closeModal(s){this.btnShow=!1;let a=document.getElementById(s),e=document.querySelector(".modal-backdrop");a&&e&&(a.style.display="none",e.remove(),this.LimpiarFormulario())}openModal(s){this.btnShow=!1;let a=document.getElementById(s);if(a){a.style.display="block",a.setAttribute("aria-hidden","false"),a.classList.add("show");let e=document.createElement("div");e.classList.add("modal-backdrop","show"),document.body.appendChild(e)}}ModalActualizar(s,a){this.xPaises.id=a.id,this.btnShow=!0;let e=document.getElementById(s);if(this.xPaises=a,e){e.style.display="block",e.setAttribute("aria-hidden","false"),e.classList.add("show");let m=document.createElement("div");m.classList.add("modal-backdrop","show"),document.body.appendChild(m)}}Eliminar(s){let a=I({},s);we.default.fire({title:"Est\xE1 seguro de eliminar?",html:`<strong><font color="red">${a.nombres} ${a.apellidos}</font></strong>  </br> Tenga en cuenta que no podr\xE1s revertir esto!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminalo!",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(this.xAPI.funcion="MPPRE_D_Paises",this.xAPI.parametros=`${a.id}`,this.xAPI.valores="",this.apiService.Ejecutar(this.xAPI).subscribe({next:m=>{m.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${a.nombre}</font></strong> </br> Eliminado Exitosamente!</h5>`,3e3),this.ListasUsuario=[],this.rows=[],this.ListaUsuarios()):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:m=>{console.log(m),this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)}}))})}Actualizar(){return S(this,null,function*(){this.xAPI.funcion="MPPRE_U_Paises",this.xAPI.parametros="",this.xAPI.valores=JSON.stringify(this.xPaises),yield this.apiService.Ejecutar(this.xAPI).subscribe({next:s=>{s.tipo==1?(this.swal.Swal1("top-end","success",`<h5><strong><font color="red">${this.xPaises.nombre} </font></strong> </br> Actualizado Exitosamente!</h5>`,3e3),this.ListasUsuario=[],this.rows=[],this.ListaUsuarios(),this.LimpiarFormulario(),this.closeModal("verticallyCenteredModal")):this.swal.SwalMini("top-end","error","Oops! Algo salio mal!...",3e3)},error:s=>{console.log(s)}})})}};d.\u0275fac=function(a){return new(a||d)(T(ne),T(fe))},d.\u0275cmp=B({type:d,selectors:[["app-users"]],viewQuery:function(a,e){if(a&1&&W(U,5),a&2){let m;k(m=O())&&(e.table=m.first)}},standalone:!0,features:[N],decls:93,vars:48,consts:[["verticallyCenteredModal",""],[1,"mb-4"],["size","sm","cButton","",3,"cModalToggle"],[1,"row"],[1,"col-md-6","col-12"],[1,"d-flex","justify-content-between","align-items-center","m-1"],[1,"d-flex","align-items-center"],[1,"form-control","mx-25",3,"ngModelChange","ngModel"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"col-md-6","col-12","d-flex","justify-content-start","justify-content-md-end"],[1,"d-flex","align-items-center","justify-content-end","pr-1","pb-1","pb-md-0"],[1,"d-flex","align-items-center","ml-1","ml-md-0"],["name","searchValue","type","search","placeholder","Buscar",1,"form-control","ml-25",3,"ngModelChange","keyup","search","ngModel"],["rowHeight","auto",1,"bootstrap","core-bootstrap",3,"rows","limit","columnMode","headerHeight","footerHeight","scrollbarH"],["name","Nombres","prop","nombres",3,"width"],["ngx-datatable-cell-template",""],["name","Apellidos","prop","apellidos",3,"width"],["name","Email","prop","correo",3,"width"],["name","Telefono","prop","telefono",3,"width"],["name","Perfil","prop","perfil",3,"width"],["name","Status","prop","status",3,"width"],["name","Accion",3,"sortable","width"],["size","lg","alignment","center","id","verticallyCenteredModal"],["cModalTitle",""],["cButtonClose","",3,"click"],[1,"row","mb-3"],[1,"col"],[1,"form-label"],["placeholder","Ingrese Nombres","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["placeholder","Ingrese Apellidos","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["placeholder","Ingrese Cedula","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["placeholder","Ingrese Correo Electronico","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["optionValueField","id","optionTextField","name","placeholder","Seleccione Sexo","required","","autocomplete","off",3,"ngModelChange","items","ngModel","ngModelOptions"],["placeholder","Ingrese Telefono","type","text",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["cButton","","color","danger",3,"click"],["cButton","","color","primary"],["cButton","","color","warning"],[1,"loading-overlay"],["role","status",1,"spinner-border"],[1,"loading-message"],[1,"font-weight-bold"],["color","warning"],["color","danger"],["color","success"],["color","danger",3,"click"],["color","warning",3,"click"],["cButton","","color","primary",3,"click"],["cButton","","color","warning",3,"click"]],template:function(a,e){if(a&1){let m=v();t(0,"c-card",1)(1,"c-card-header"),r(2," Lista de Usuarios "),t(3,"button",2),r(4,"Agregar Usuario"),i()(),t(5,"c-card-body")(6,"div")(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),r(11,"Mostrar "),t(12,"select",7),C("ngModelChange",function(n){return u(m),w(e.selectedOption,n)||(e.selectedOption=n),g(n)}),t(13,"option",8),r(14,"10"),i(),t(15,"option",9),r(16,"25"),i(),t(17,"option",10),r(18,"50"),i(),t(19,"option",11),r(20,"100"),i()(),r(21," Registros"),i()()(),t(22,"div",12)(23,"div",13)(24,"label",14),r(25,"Buscar:"),t(26,"input",15),C("ngModelChange",function(n){return u(m),w(e.search,n)||(e.search=n),g(n)}),x("keyup",function(n){return u(m),g(e.filter(n))})("search",function(n){return u(m),g(e.filter(n))}),i()()()()(),h(27,ye,5,0,"ng-container")(28,xe,4,0,"ng-container"),t(29,"ngx-datatable",16)(30,"ngx-datatable-column",17),h(31,Me,3,1,"ng-template",18),i(),t(32,"ngx-datatable-column",19),h(33,Se,3,1,"ng-template",18),i(),t(34,"ngx-datatable-column",20),h(35,ve,3,1,"ng-template",18),i(),t(36,"ngx-datatable-column",21),h(37,Ee,3,1,"ng-template",18),i(),t(38,"ngx-datatable-column",22),h(39,Te,3,2,"ng-template",18),i(),t(40,"ngx-datatable-column",23),h(41,Ie,3,2,"ng-template",18),i(),t(42,"ngx-datatable-column",24),h(43,Be,5,0,"ng-template",18),i()()()()(),t(44,"c-modal",25,0)(46,"c-modal-header")(47,"h5",26),r(48,"Formulario de Usuarios"),i(),t(49,"button",27),x("click",function(){return u(m),g(e.closeModal("verticallyCenteredModal"))}),i()(),t(50,"c-modal-body")(51,"form")(52,"div",28)(53,"div",29)(54,"label",30),r(55,"Nombres"),i(),t(56,"input",31),C("ngModelChange",function(n){return u(m),w(e.xPaises.iso,n)||(e.xPaises.iso=n),g(n)}),i()(),t(57,"div",29)(58,"label",30),r(59,"Apellidos"),i(),t(60,"input",32),C("ngModelChange",function(n){return u(m),w(e.xPaises.nombre,n)||(e.xPaises.nombre=n),g(n)}),i()()(),t(61,"div",28)(62,"div",29)(63,"label",30),r(64,"Cedula de Ciudadania / Cedula de Identidad"),i(),t(65,"input",33),C("ngModelChange",function(n){return u(m),w(e.xPaises.iso,n)||(e.xPaises.iso=n),g(n)}),i()(),t(66,"div",29)(67,"label",30),r(68,"Correo Electronico"),i(),t(69,"input",34),C("ngModelChange",function(n){return u(m),w(e.xPaises.nombre,n)||(e.xPaises.nombre=n),g(n)}),i()()(),t(70,"div",28)(71,"div",29)(72,"label",30),r(73,"Seleccione Sexo"),i(),t(74,"ngx-select",35),C("ngModelChange",function(n){return u(m),w(e.xPaises.status,n)||(e.xPaises.status=n),g(n)}),i()(),t(75,"div",29)(76,"label",30),r(77,"Telefono"),i(),t(78,"input",36),C("ngModelChange",function(n){return u(m),w(e.xPaises.nombre,n)||(e.xPaises.nombre=n),g(n)}),i()()(),t(79,"div",28)(80,"div",29)(81,"label",30),r(82,"Seleccione Perfil"),i(),t(83,"ngx-select",35),C("ngModelChange",function(n){return u(m),w(e.xPaises.status,n)||(e.xPaises.status=n),g(n)}),i()(),t(84,"div",29)(85,"label",30),r(86,"Seleccione Status"),i(),t(87,"ngx-select",35),C("ngModelChange",function(n){return u(m),w(e.xPaises.status,n)||(e.xPaises.status=n),g(n)}),i()()()()(),t(88,"c-modal-footer")(89,"button",37),x("click",function(){return u(m),g(e.closeModal("verticallyCenteredModal"))}),r(90," Cerrar "),i(),h(91,Le,2,0,"button",38)(92,We,2,0,"button",39),i()()}if(a&2){let m=F(45);l(3),c("cModalToggle",m.id),l(9),f("ngModel",e.selectedOption),l(14),f("ngModel",e.search),l(),b(27,e.loadingTable==0?27:-1),l(),b(28,e.loadingTable==2?28:-1),l(),c("rows",e.rows)("limit",e.selectedOption)("columnMode",e.ColumnMode.force)("headerHeight",50)("footerHeight",50)("scrollbarH",!0),l(),c("width",200),l(2),c("width",200),l(2),c("width",200),l(2),c("width",100),l(2),c("width",100),l(2),c("width",100),l(2),c("sortable",!1)("width",150),l(14),f("ngModel",e.xPaises.iso),c("ngModelOptions",y(40,M)),l(4),f("ngModel",e.xPaises.nombre),c("ngModelOptions",y(41,M)),l(5),f("ngModel",e.xPaises.iso),c("ngModelOptions",y(42,M)),l(4),f("ngModel",e.xPaises.nombre),c("ngModelOptions",y(43,M)),l(5),c("items",e.status),f("ngModel",e.xPaises.status),c("ngModelOptions",y(44,M)),l(4),f("ngModel",e.xPaises.nombre),c("ngModelOptions",y(45,M)),l(5),c("items",e.status),f("ngModel",e.xPaises.status),c("ngModelOptions",y(46,M)),l(4),c("items",e.status),f("ngModel",e.xPaises.status),c("ngModelOptions",y(47,M)),l(4),b(91,e.btnShow?-1:91),l(),b(92,e.btnShow?92:-1)}},dependencies:[H,U,j,R,se,ae,ie,te,me,ee,K,Y,Z,z,X,q,Q,$,G,J,de,he,_e,pe,ge,oe,ue,ce,le,re]});let o=d;return o})();export{Je as UsersComponent};
